\documentclass{article}
%
\usepackage{luacode}
\usepackage[fleqn]{amsmath}
% create commands for units (not needed but good practice) 
%
\begin{document}
Rotating a vector in R2 \\\\
\begin{luacode}
	-- load tVar library
	require("tVar/init.lua")
	
	tex.print(_VERSION)
	tVar.outputMode = "RES_EQ_N"
	tMat.eqTexAsMatrix = true
	
	tex.print("Rotation angle in degree.\\\\ Assigned with quick input \\verb|tVar.q('\\\\theta=90',true)|")
	tVar.q("\\theta=45",true)
	theta = tVar.rad(theta):setName("\\theta"):print():clean()
	
	tex.print("Rotation matrix in R2")
	A = tMat:New({{tVar.cos(theta),-tVar.sin(theta)},{tVar.sin(theta),tVar.cos(theta)}},"A"):outRES_EQ()
	e_x = tVec:New({1,0},"e_x"):outRES()
	
	
	tMat.eqTexAsMatrix = false
	e = (A*e_x):setName("e'"):print()
\end{luacode}
\end{document}