\documentclass{article}
%
\usepackage{luacode}
\usepackage[fleqn]{amsmath}
% create commands for units (not needed but good practice) 
\newcommand{\msKpW}{\tfrac{m^2K}{W}}
\newcommand{\WpmsK}{\tfrac{W}{m^2K}}
\newcommand{\WpmK}{\tfrac{W}{mK}}
\newcommand{\m}{m}
%
\begin{document}
Using math functions for trigonometric caluclations.\\
\begin{luacode}
	-- load tVar library
	require("tVar/init.lua")
	  
	-- global Definitions
	tVar.outputMode = "RES_EQ_N"
	
	--- do test calculations
	tex.print("Triangle:")
	a = tVar:New(3,"a"):outRES()
	b = tVar:New(4,"b"):outRES()
	c = tVar:New(5,"c"):outRES()
	
	tex.print("Calculate angle:")
	alpha = tVar.atan(b/a):setName("\\alpha"):print():clean()
	
	tex.print("Calculate a with \\alpha")
	a_2 = (c*tVar.cos(alpha)):setName("a_{2}"):print():clean()
	
	tex.print("Directly compare values:\\\\")
	
	if a_2.val == a.val then
		tex.print("\\emph{correct!}")
	else
		tex.print("\\emph{wrong!}")
	end
	
	tex.print("\\\\Compare values regard global \\emph{calcPrecision} with " .. tVar.calcPrecision .. " decimal places:\\\\")
	
	if a_2 == a then
		tex.print("\\emph{correct!}")
	else
		tex.print("\\emph{wrong!}")
	end
\end{luacode}
\end{document}