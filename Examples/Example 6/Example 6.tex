\documentclass{article}
%
\usepackage{luacode}
\usepackage[fleqn]{amsmath}
%needed for inserting pictures
\usepackage{graphicx}
%with geometry package, plot picture is actually centered
\RequirePackage[left=2.5cm,right=2.5cm,top=2.5cm,bottom=2cm,includeheadfoot]{geometry}
%
\begin{document} 
\begin{luacode}
	require("tVar/init.lua")
tVar[[
-- Definiere Global Parameters
tVar.numFormat = "%.2f"
tVar.mathEnviroment = "align"
tVar.debugMode = "off"
tVar.outputMode = "RES_EQ_N"
tVar.numeration = true
tVar.decimalSeparator = "."
tVar.calcPrecision = 10
tVar.disableOutput = false

tMat.texStyle = "mathbf"
tMat.eqTexAsMatrix = false

tVec.texStyle = "vec"
tPlot.steps = 0.01

function safe(x)
return tVar.sqrt((1-x^2))
end

-- Initialize Gnuplot
plot1 = tPlot:New()

-- set Labels
plot1.xlabel = "X"
plot1.ylabel = "Y"

-- define x axis and range
plot1.xtics = "0.1"
plot1.xrange = "[0:1.1]"
plot1.yrange = "[0:1.1]"

plot1.conf.size = "14cm,8cm"
-- assign functions to plot
plot1:add(safe,"First","with lines")

-- assign points to plot
plot1:add({{0.5,0.7},{0.3,0.6}},"control","with points")

--plot
#\\begin{figure}[ht]
#\\begin{center}
plot1:plot()
#\\end{center}
#\\caption{Test plot}
#\\end{figure}

]]
\end{luacode}
\end{document}